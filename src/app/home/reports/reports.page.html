<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Текущие результаты
    </ion-title>
    <ion-buttons slot="start">
      <ion-menu-button menu='mainSide' autoHide=true></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end"><ion-button (click)="Refresh()"><ion-icon slot="icon-only" name="refresh-outline"></ion-icon></ion-button> </ion-buttons>
    <ion-thumbnail slot="end">
      <img src="../../../assets/logo.png">
    </ion-thumbnail>
  </ion-toolbar>
  <app-state></app-state>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      Ваши продажи:
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none">
        <ion-label> Продано нал. </ion-label>
        <ion-badge slot="end" color='medium' mode='ios'> {{ownSales.cashSumm}} </ion-badge>
      </ion-item>
      <ion-item lines="none">
        <ion-label> Продано без. нал: </ion-label>
        <ion-badge slot="end" color='medium' mode='ios'> {{ownSales.terminalSumm}} </ion-badge>
      </ion-item>
      <ion-item lines="none">
        <ion-label> Закрытых чеков : </ion-label>
        <ion-badge slot="end" color='medium' mode='ios'> <small>нал. </small> {{ownSales.cheksQuontity}} </ion-badge>
        <ion-badge slot="end" color='medium' mode='ios'> <small>банк </small>{{ownSales.cheksQuontityterminal}} </ion-badge>
      </ion-item>
      <ion-item lines="none">
        <ion-label> Открытых заказов: </ion-label>
        <ion-badge slot="end" color='medium' mode='ios'> {{ownSales.ordersQuontity}} </ion-badge>
      </ion-item>
      <ion-button [routerLink]="['invoices']" fill='solid' color='danger' expand='block' > ЧЕКИ </ion-button>
      <ion-button (click)="ShowDiagramm()" fill='solid' color='danger' expand='block' > ГРАФИК </ion-button>
    </ion-card-content>
  </ion-card>

  <ng-container *ngIf="showdiagram">
  <ion-card>
    <ion-card-header>
      Продажи по официантам
    </ion-card-header>
    <ion-card-content>
      <canvas #WaitersSaleCanvas baseChart [data]="sale.ChartData" [labels]="sale.ChartLabels" [legend]="sale.Legend"
        [chartType]="sale.ChartType">

      </canvas>


    </ion-card-content>
  </ion-card>
  
  <ion-card>
    <ion-card-header>
      отмены по официантам
    </ion-card-header>
    <ion-card-content>
      <canvas #WaitersSaleCanvas baseChart [data]="cancel.ChartData" [labels]="cancel.ChartLabels"
        [legend]="cancel.Legend" [chartType]="cancel.ChartType">
      </canvas>


    </ion-card-content>
  </ion-card>
  </ng-container>

</ion-content>


